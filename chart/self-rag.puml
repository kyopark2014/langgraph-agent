@startuml Corrective RAG

'skinparam monochrome true
skinparam shadowing false
skinparam activity {
    StartColor limegreen
    EndColor darkblue
    'BackgroundColor #d4de5e
    'BorderColor #5e94de
    BackgroundColor #lightblue
    BorderColor #lightblue
    ArrowColor black
}
skinparam activityDiamond {
    'BackgroundColor #5ede68
    'BorderColor #5e94de
    BackgroundColor #Pink
    BorderColor #Pink
    fontSize 12
}

start
-> start;

repeat :retrieve;


'partition RAG {

:grade document;

if (decide_to_generate) then (yes)    
else (no)
  :websearch;
endif

'}

repeat :generate;

-> answer;

repeat while (halluciations?)

backward :rewrite;

repeat while (answers question?)

-> end;
stop
@enduml